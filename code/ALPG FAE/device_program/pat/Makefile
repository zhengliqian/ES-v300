#------------------------------------------------------------------------------
# Makefile
#------------------------------------------------------------------------------

#------------------------------------------------------------------------------
# OPTION
#------------------------------------------------------------------------------
  OPTION  = 

#------------------------------------------------------------------------------
# Local Compile
#------------------------------------------------------------------------------
  COMP_OS = $(shell uname -o)

#------------------------------------------------------------------------------
# Pattern
#------------------------------------------------------------------------------
  EXT_S      = asc
  EXT_O      = pbd

	TPAT_= function.${EXT_O}

#------------------------------------------------------------------------------
# Compiler
#------------------------------------------------------------------------------
ifeq ($(COMP_OS),Cygwin)
  PATT    = /cygdrive/C/Innotech/YMTC/ipatcomp.cmd
else
  PATT    = ipatcomp.sh
endif

#------------------------------------------------------------------------------
# Compile Target
#------------------------------------------------------------------------------
  OBJDIR     = ../TEST
  PFLAGS     = ${OPTION}
  TPAT       = ${TPAT_:%.${EXT_O}=${OBJDIR}/%.${EXT_O}}

all: ${TPAT}
pat: ${TPAT}

#------------------------------------------------------------------------------
# PAT -> PBD
#------------------------------------------------------------------------------
${OBJDIR}/%.${EXT_O}: %.${EXT_S} 
	${PATT} $< ${PFLAGS} -B $@

#------------------------------------------------------------------------------
# Dir
#------------------------------------------------------------------------------
dir:
	mkdir -p ${OBJDIR}

#------------------------------------------------------------------------------
# Clean
#------------------------------------------------------------------------------
clean:
	rm -f ${TPAT} *~

